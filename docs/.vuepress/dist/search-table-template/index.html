<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>搜索表格页模板 | 前端开发手册</title>
    <meta name="description" content="瑞合的后台系统的开发文档">
    <link rel="icon" href="/static/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.a16d6224.css" as="style"><link rel="preload" href="/assets/js/app.50fff0bd.js" as="script"><link rel="preload" href="/assets/js/2.269a9d95.js" as="script"><link rel="preload" href="/assets/js/16.19a1b578.js" as="script"><link rel="prefetch" href="/assets/js/10.7a36e7ba.js"><link rel="prefetch" href="/assets/js/11.3dd0ae66.js"><link rel="prefetch" href="/assets/js/12.156ec08f.js"><link rel="prefetch" href="/assets/js/13.35b175bb.js"><link rel="prefetch" href="/assets/js/14.04d14564.js"><link rel="prefetch" href="/assets/js/15.d0193693.js"><link rel="prefetch" href="/assets/js/17.efa30101.js"><link rel="prefetch" href="/assets/js/3.0f1866b1.js"><link rel="prefetch" href="/assets/js/4.f9071697.js"><link rel="prefetch" href="/assets/js/5.4a49ba73.js"><link rel="prefetch" href="/assets/js/6.865c3997.js"><link rel="prefetch" href="/assets/js/7.c194f67e.js"><link rel="prefetch" href="/assets/js/8.c10c9c46.js"><link rel="prefetch" href="/assets/js/9.78128852.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a16d6224.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">前端开发手册</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>全局</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/global/way/" class="sidebar-link">全局的定义方式</a></li></ul></section></li><li><a href="/dialog/" class="sidebar-link">dialog对话框</a></li><li><a href="/search-table-template/" class="active sidebar-link">搜索表格页模板</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/search-table-template/#使用示例" class="sidebar-link">使用示例</a></li><li class="sidebar-sub-header"><a href="/search-table-template/#search-table-page-组件详解" class="sidebar-link">search-table-page 组件详解</a></li><li class="sidebar-sub-header"><a href="/search-table-template/#查询搜索功能" class="sidebar-link">查询搜索功能</a></li><li class="sidebar-sub-header"><a href="/search-table-template/#表格分页功能" class="sidebar-link">表格分页功能</a></li><li class="sidebar-sub-header"><a href="/search-table-template/#启用停用功能" class="sidebar-link">启用停用功能</a></li></ul></li><li><a href="/common/" class="sidebar-link">常用的组件</a></li><li><a href="/dictionary/" class="sidebar-link">字典</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络请求</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/shell/" class="sidebar-link">自动化脚本</a></li><li><a href="/doc/" class="sidebar-link">此文档的维护与开发</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="搜索表格页模板"><a href="#搜索表格页模板" aria-hidden="true" class="header-anchor">#</a> 搜索表格页模板</h1> <h2 id="使用示例"><a href="#使用示例" aria-hidden="true" class="header-anchor">#</a> 使用示例</h2> <p>模板</p> <div class="language-html extra-class"><pre class="language-html"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>search-table-page</span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>table-container<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:pageSize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>pageSize<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:currentPage</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>currentPage<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:total</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>total<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">@size-change</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleSizeChange<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">@current-change</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleCurrentChange<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>searchForm</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 这里搜索条件 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>btns</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 这里 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>privateRest<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">plain</span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>el-icon-refresh<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>重置<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleSearch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>el-icon-search<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>搜索<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>centerBtns</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>active<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>el-icon-circle-check<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>mini<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>启用<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stop<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>el-icon-warning-outline<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>mini<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>停用<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>table</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 这里放置表格的内容 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>search-table-page</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>script代码</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> SearchTablePage <span class="token keyword">from</span> <span class="token string">'@/layout/search-table-page.vue'</span>
<span class="token keyword">import</span> listMixin <span class="token keyword">from</span> <span class="token string">'@/mixins/search-list'</span>
<span class="token keyword">import</span> Wrap <span class="token keyword">from</span> <span class="token string">'@/layout/wrap-main'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">'search-table-page'</span><span class="token punctuation">:</span> SearchTablePage
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  mixins<span class="token punctuation">:</span> <span class="token punctuation">[</span>listMixin<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      filters<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 查询条件</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      listUrl<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token constant">BASIC_DATA</span><span class="token punctuation">.</span><span class="token constant">USER</span><span class="token punctuation">.</span><span class="token constant">INFO</span><span class="token punctuation">.</span><span class="token constant">LIST</span><span class="token punctuation">,</span>
      searchUrl<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token constant">BASIC_DATA</span><span class="token punctuation">.</span><span class="token constant">USER</span><span class="token punctuation">.</span><span class="token constant">INFO</span><span class="token punctuation">.</span><span class="token constant">LIST</span><span class="token punctuation">,</span>
      editStatusUrl<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token constant">BASIC_DATA</span><span class="token punctuation">.</span><span class="token constant">USER</span><span class="token punctuation">.</span><span class="token constant">INFO</span><span class="token punctuation">.</span><span class="token constant">EDIT_STATUS</span><span class="token punctuation">,</span>
      idAttr<span class="token punctuation">:</span> <span class="token string">'empId'</span><span class="token punctuation">,</span>
      idsAttr<span class="token punctuation">:</span> <span class="token string">'empIdList'</span><span class="token punctuation">,</span>
      activeStatus<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      stopStatus<span class="token punctuation">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="search-table-page-组件详解"><a href="#search-table-page-组件详解" aria-hidden="true" class="header-anchor">#</a> search-table-page 组件详解</h2> <h3 id="插槽"><a href="#插槽" aria-hidden="true" class="header-anchor">#</a> 插槽</h3> <h4 id="searchform"><a href="#searchform" aria-hidden="true" class="header-anchor">#</a> searchForm</h4> <p>写搜索条件，结构任意</p> <h4 id="btns"><a href="#btns" aria-hidden="true" class="header-anchor">#</a> btns</h4> <p>放置搜索和重置的按钮</p> <h4 id="centerbtns"><a href="#centerbtns" aria-hidden="true" class="header-anchor">#</a> centerBtns</h4> <p>放置启用停用添加的按钮，注意里边要包一层 div 再写按钮</p> <h4 id="table"><a href="#table" aria-hidden="true" class="header-anchor">#</a> table</h4> <p>放置表格的内容</p> <h3 id="props"><a href="#props" aria-hidden="true" class="header-anchor">#</a> props</h3> <ul><li>currentPage 当前页码</li> <li>pageSize 表格的分页尺寸</li> <li>total 列表元素总数量</li> <li>showSearch 是否显示顶部的搜索框</li></ul> <h3 id="events"><a href="#events" aria-hidden="true" class="header-anchor">#</a> events</h3> <ul><li>size-change 列表每一页显示数量发生变化的时候派发</li> <li>current-change 列表当前页码发生变化的时候派发</li> <li>注：这两个事件我写在了</li></ul> <h2 id="查询搜索功能"><a href="#查询搜索功能" aria-hidden="true" class="header-anchor">#</a> 查询搜索功能</h2> <h3 id="无条件查询"><a href="#无条件查询" aria-hidden="true" class="header-anchor">#</a> 无条件查询</h3> <p>使用前需要定义 listUrl，获取列表的接口。<br>
将 pageSize 、currentPage 传给后端。<br>
如需要更改参数，在组件中复写 <code>handleListParameters</code> 函数，将要传给后端的 post body 作为函数的返回值。</p> <h3 id="有条件查询"><a href="#有条件查询" aria-hidden="true" class="header-anchor">#</a> 有条件查询</h3> <p>使用前需要定义 searchUrl，搜索列表的接口，通常与 listUrl 相同。<br>
查询功能默认将组件中 filters 中的字段和 pageSize 、currentPage 组成起来发送给后端。<br>
如需要更改参数，在组件中复写 <code>handleSearchParameters</code> 函数，将要传给后端的 post body 作为函数的返回值。</p> <h3 id="重置搜索"><a href="#重置搜索" aria-hidden="true" class="header-anchor">#</a> 重置搜索</h3> <p>如果点击重置之后需要进行其他操作，可以自定义点击重置的回调，只需在自定义的回调函数中调用一下 <code>handleReset</code> 方法</p> <h2 id="表格分页功能"><a href="#表格分页功能" aria-hidden="true" class="header-anchor">#</a> 表格分页功能</h2> <p>默认实现了表格功能<br>
如果需要可以自己操作 currentPage pageSize tableData</p> <h2 id="启用停用功能"><a href="#启用停用功能" aria-hidden="true" class="header-anchor">#</a> 启用停用功能</h2> <p>需要定义如下变量：</p> <ol><li>editStatusUrl：切换启用停用状态的请求地址。</li> <li>idAttr：启用停用的时候，需要传递给后端的属性的名称，如 id，empId，memberId</li> <li>idsAttr：启用停用的时候，需要传递给后端的列表参数名称，如 ids，memberIds</li> <li>activeStatus：启用状态的 status 或者 isDel 的属性值</li> <li>stopStatus：停用状态的 status 或者 isDel 的属性值</li></ol> <p>定义好了之后，设置启用按钮的回调函数为 active，设置停用按钮的回调函数为 stop就可以了。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/dialog/" class="prev">dialog对话框</a></span> <span class="next"><a href="/common/">常用的组件</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.50fff0bd.js" defer></script><script src="/assets/js/2.269a9d95.js" defer></script><script src="/assets/js/16.19a1b578.js" defer></script>
  </body>
</html>
